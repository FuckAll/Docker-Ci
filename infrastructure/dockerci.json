{
  "ProjectPath":"/Users/KongFu/17mei/src/github.com/wothing/17mei",
  "DockerApi":"tcp://192.168.64.3:2375",
  "Bridge":"test",
  "ServicesImage":"alpine:latest",
  "InitCommand":"make idl && make ve",
  "Infrastructure": {
          "redis": {"name":"redis", "image":"redis", "init":"xxx.sh"},
          "pgsql": {"name":"pgsql", "image":"postgres", "passwd":"wothing","dname":"meidb","duser":"postgres","init": "sql/v1.0,sql/v1.1,sql/v1.2"},
          "consul": {"name":"consul", "image":"consul", "init":"xxx.sh"}
      },
   "Services":[
    {   
      "Name": "story",
      "DockerFile": {
              "CopyTo":"/story",
              "CMD":"/story -ch $CH -cp $CP -ss $SS -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd story; go install",
      "Env":{
          "CH":"consul",
          "CP":"8600",
          "SS":".service.dc1.consul",
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
          
        }
    },  
    {   
      "Name": "verification",
      "DockerFile": {
              "CopyTo":"/verification",
              "CMD":"/verification -rh $RH -rp $RP -p $P"
      },
      "BuildCommand":"cd verification; go install",
      "Env":{
          "RH":"redis",
          "RP":"6347",
          "P":"3000"    
        }
      
    },  
    {   
      "Name": "activity",
      "DockerFile": {
              "CopyTo":"/activity",
              "CMD":"/activity -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd activity; go install",
      "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
          
        }
    },  
    {   
      "Name": "push",
      "DockerFile": {
              "CopyTo":"/push",
              "CMD":"/push -apns $APNS -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd push; go install",
       "Env":{
          "APNS":false,
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
          
        }
    },  
    {   
      "Name": "other",
      "DockerFile": {
              "CopyTo":"/other",
              "CMD":"/other -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd other; go install",
       "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
          
        }
    },  
    {   
      "Name": "mediastore",
      "DockerFile": {
              "CopyTo":"/mediastore",
              "CMD":"/mediastore -env $ENV -p $P"
      },
      "BuildCommand":"cd mediastore; go install",
      "Env":{
          "ENV":"test",
          "P":"3000"
          
        }
    },
    { 
      "Name": "user",
      "DockerFile": {
              "CopyTo":"/user",
              "CMD":"/user -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd user;go install",
      "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
    },
    {
      "Name": "version",
      "DockerFile": {
              "CopyTo":"/version",
              "CMD":"/version -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd version;go install",
      "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
          
        }
    },
    {
      "Name": "statistic",
      "DockerFile": {
              "CopyTo":"/statistic",
              "CMD":"/statistic -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd statistic; go install",
      "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
    },
    {
      "Name": "share",
      "DockerFile": {
              "CopyTo":"/share",
              "CMD":"/share -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd share; go install",
      "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
    },
    {
      "Name": "wechat",
      "DockerFile": {
              "CopyTo":"/wechat",
              "CMD":"/wechat.exe -appid $APPID -secret $SECRET -freq $FREQ -p $P"
      },
      "BuildCommand":"cd wechat; go install",
      "Env":{
          "APPID":"wx5f6076d6fe66f16b",
          "SECRET":"d4624c36b6795d1d99dcf0547af5443d ",
          "FREQ":"7000",
          "P":"3000"
        }
    },
    {
      "Name": "consult",
      "DockerFile": {
              "CopyTo":"/consult",
              "CMD":"/consult -ch $CH -cp $CP -ss $SS -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd consult; go install",
      "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
    },
    {
      "Name": "authority",
      "DockerFile": {
              "CopyTo":"/authority",
              "CMD":"/authority -ch $CH -cp $CP -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P -ss $SS"
      },
      "BuildCommand":"cd authority; go install",
      "Env":{
          "CH":"consul",
          "CP":"8600",
          "SS":".service.dc1.consul",
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
    },
    {
      "Name": "config",
      "DockerFile": {
              "CopyTo":"/config",
              "CMD":"/config -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd config; go install",
      "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
      
    },
    {
      "Name": "message",
      "DockerFile": {
              "CopyTo":"/message",
              "CMD":"/message -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd message; go install",
      "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
    },
    {
      "Name": "hospital",
      "DockerFile": {
              "CopyTo":"/hospital",
              "CMD":"/hospital -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd hospital; go install",
      "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
    },
    {
      "Name": "order",
      "DockerFile": {
              "CopyTo":"/order",
              "CMD":"/order -ch $CH -cp $CP -ss $SS -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd order; go install",
      "Env":{
          "CH":"consul",
          "CP":"8600",
          "SS":".service.dc1.consul",
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
    },
    {
      "Name": "confidant",
      "DockerFile": {
              "CopyTo":"/confidant",
              "CMD":"/confidant -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd confidant; go install",
      "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
    },
    {
      "Name": "goods",
      "DockerFile": {
              "CopyTo":"/goods",
              "CMD":"/goods -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd goods; go install",
      "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
    },
    {
      "Name": "account",
      "DockerFile": {
              "CopyTo":"/account",
              "CMD":"/account -ch $CH -cp $CP -ss $SS -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd account; go install",
      "Env":{
          "CH":"consul",
          "CP":"8600",
          "SS":".service.dc1.consul",
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
    },
    {
      "Name": "banner",
      "DockerFile": {
              "CopyTo":"/banner",
              "CMD":"/banner -dh $DH -dn $DN -dp $DP -dpwd $DPWD -du $DU -p $P"
      },
      "BuildCommand":"cd banner; go install",
      "Env":{
          "DH":"pgsql",
          "DN":"meidb",
          "DP":"5432",
          "DPWD":"wothing",
          "DU":"postgres",
          "P":"3000"
        }
    },
    {
      "Name": "appway",
      "DockerFile": {
              "CopyTo":"/appway",
              "CMD":"/appway -rh $RH -rp $RP -rpwd $RPWD -cert $CERT -key $KEY -ch $CH -cp $CP -p $P -ss $SS"
      },
      "BuildCommand":"cd gateway/appway;go install",
      "Env":{
          "RH":"redis",
          "RP": "6379",
          "CH":"consul",
          "CP":"8600",
          "SS":".service.dc1.consul",
          "P":"3000"
        }
    },
    {
      "Name": "interway",
      "DockerFile": {
              "CopyTo":"/interway",
              "CMD":"/interway -rh $RH -rp $RP -cert $CERT -key $KEY -ch $CH -cp $CP -p $P -ss $SS"
      },
      "BuildCommand":"cd gateway/interway; go install",
      "Env":{
          "RH":"redis",
          "RP":"6379",
          "CH":"consul",
          "CP":"8600",
          "SS":".service.dc1.consul",
          "P":"3000"
        }
    }

       
    ]
      
}
